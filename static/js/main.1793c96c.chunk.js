(this.webpackJsonpshadowloop=this.webpackJsonpshadowloop||[]).push([[0],{531:function(e,t){},533:function(e,t){},560:function(e,t,c){"use strict";c.r(t);var n=c(3),a=(c(306),c(315),c(0)),i=c.n(a),s=c(22),r=c.n(s),o=c(121),l=c(27),j=c(592),d=c(593),h=c(564),b=c(591),u=c(74),O=c.n(u),x=O()((function(e){return{offset:e.mixins.toolbar}}));function m(e){var t=e.children,c=x();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b.a,{}),Object(n.jsx)(j.a,{children:Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{variant:"h6",component:"h1",children:"Shadow loop"})})}),Object(n.jsx)("div",{className:c.offset}),t]})}var p=c(36),f=c(21),g=c(600),v=c(594),S=c(595),k=c(597),w=c(596),y=c(598),L=Object(v.a)({root:{minWidth:275}});function N(e){var t=e.name,c=L();return Object(n.jsxs)(S.a,{className:c.root,variant:"outlined",children:[Object(n.jsxs)(w.a,{children:[Object(n.jsx)(h.a,{variant:"overline",color:"textSecondary",children:"Z\xe1kladn\xed bal\xed\u010dek"}),Object(n.jsx)(h.a,{variant:"h5",component:"h2",children:t})]}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)(y.a,{size:"small",color:"secondary",component:o.b,to:"decks/".concat(t),children:"Spustit od za\u010d\xe1tku"}),Object(n.jsx)(y.a,{size:"small",color:"secondary",disabled:!0,children:"Pokra\u010dovat"})]})]})}var P=c(599),z=Object(v.a)({root:{minWidth:275}});function C(){var e=z();return Object(n.jsxs)(S.a,{className:e.root,variant:"outlined",children:[Object(n.jsxs)(w.a,{children:[Object(n.jsx)(P.a,{children:Object(n.jsx)(h.a,{variant:"overline",color:"textSecondary",children:"Z\xe1kladn\xed bal\xed\u010dek"})}),Object(n.jsx)(P.a,{children:Object(n.jsx)(h.a,{variant:"h5",component:"h2",children:Object(p.a)(Array(Math.floor(11*Math.random())+10)).map((function(){return"a"})).join("")})})]}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)(P.a,{children:Object(n.jsx)(y.a,{size:"small",color:"secondary",children:"Spustit od za\u010d\xe1tku"})}),Object(n.jsx)(P.a,{children:Object(n.jsx)(y.a,{size:"small",color:"secondary",disabled:!0,children:"Pokra\u010dovat"})})]})]})}var E=O()((function(e){return{deckPadding:{paddingTop:e.spacing(2)}}}));var D=function(){var e=E(),t=Object(a.useState)([]),c=Object(f.a)(t,2),i=c[0],s=c[1],r=Object(a.useState)(!0),o=Object(f.a)(r,2),l=o[0],j=o[1];return Object(a.useEffect)((function(){fetch("".concat("https://lights-camera-english.com/shadowloops/decks","/decks.txt")).then((function(e){return e.text()})).then((function(e){s(e.split("\n").slice(0,-1)),j(!1)}),(function(e){console.log(e)}))}),[]),Object(n.jsx)(g.a,{children:l?Object(n.jsx)(n.Fragment,{children:Object(p.a)(Array(4).keys()).map((function(t){return Object(n.jsx)("div",{className:e.deckPadding,children:Object(n.jsx)(C,{})},t)}))}):i.map((function(t){return Object(n.jsx)("div",{className:e.deckPadding,children:Object(n.jsx)(N,{name:t})},t)}))})};var M=function(){return Object(n.jsx)(n.Fragment,{children:"Error 404 :("})},F=c(290),B=c(610),R=c(292),T=c.n(R),A=c(601),I=c(602),W=Object(v.a)((function(e){return{root:{padding:e.spacing(2)},card:{width:"fit-content"},media:{maxWidth:"100%"},loopButton:{float:"right",paddingBottom:e.spacing(2)}}}));function H(e){var t=e.slideContent,c=e.deckName,i=e.onSlideFinished,s=e.isSlidePlaying,r=e.czechLabelShown,o=e.englishLabelShown,l=e.pauseDurationMultiplier,j=W(),d=Object(a.useRef)(2),b=Object(f.a)(t,4),u=b[0],O=b[1],x=b[2],m=b[3],p=Object(a.useState)(0),g=Object(f.a)(p,2),v=g[0],k=g[1],y=Object(a.useRef)(v),L=Object(a.useState)(!1),N=Object(f.a)(L,2),P=N[0],z=N[1],C=Object(a.useState)(!0),E=Object(f.a)(C,2),D=E[0],M=E[1],F=Object(a.useState)(!1),R=Object(f.a)(F,2),H=R[0],J=R[1],Z=Object(a.useRef)(0);return Object(a.useEffect)((function(){k(0),y.current=0,J(!1),clearTimeout(Z.current)}),[t]),Object(a.useEffect)((function(){M(s&&!H)}),[s,H]),Object(a.useEffect)((function(){s&&y.current>2&&!P&&i()}),[s,P,i,v]),Object(n.jsx)(B.a,{display:"flex",className:j.root,children:Object(n.jsx)(B.a,{m:"auto",children:Object(n.jsxs)(S.a,{className:j.card,children:[Object(n.jsx)("img",{className:j.media,src:"".concat("https://lights-camera-english.com/shadowloops/decks","/").concat(c,"/").concat(m),alt:u}),Object(n.jsxs)(w.a,{children:[Object(n.jsx)("div",{className:j.loopButton,children:Object(n.jsx)(A.a,{value:"repeat",selected:P,onChange:function(){return z(!P)},children:Object(n.jsx)(I.a,{})})}),(o||r)&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:o?u:O}),o&&r&&Object(n.jsx)(h.a,{variant:"body2",color:"textSecondary",component:"p",children:O})]})]}),Object(n.jsx)(T.a,{url:"".concat("https://lights-camera-english.com/shadowloops/decks","/").concat(c,"/").concat(x),playing:D,width:0,height:0,onEnded:function(){J(!0),Z.current=setTimeout((function(){y.current+=1,k(y.current),J(!1)}),1e3*d.current*l)},onDuration:function(e){d.current=e}})]})})})}var J=Object(v.a)((function(e){return{root:{padding:e.spacing(2)},media:{maxWidth:"100%"}}}));function Z(){var e=J();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(B.a,{display:"flex",children:Object(n.jsx)(B.a,{m:"auto",children:Object(n.jsxs)(S.a,{children:[Object(n.jsx)(P.a,{variant:"rect",children:Object(n.jsx)("div",{style:{paddingTop:"57%",width:"400px"}})}),Object(n.jsxs)(w.a,{children:[Object(n.jsx)(P.a,{children:Object(n.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Lorem ipsum dolor sit amet"})}),Object(n.jsx)(P.a,{children:Object(n.jsx)(h.a,{variant:"body2",color:"textSecondary",component:"p",children:"Lorem ipsum dolor"})})]})]})})})})}var q=c(294),G=c(603),K=c(611),Q=c(608),U=c(613),V=c(609),X=c(614),Y=c(604),$=c(605),_=c(606),ee=c(607),te=c(612),ce=O()((function(e){return{root:{margin:0,padding:e.spacing(2)},box:{paddingTop:"20px"},slider:{marginLeft:"15px",marginRight:"15px",marginTop:"10px"}}}));function ne(e){var t=e.isPlaying,c=e.onResumePauseClick,a=e.onSlide,i=e.maxSlide,s=e.onSlideChange,r=e.czechLabelShown,o=e.setCzechLabelShown,l=e.englishLabelShown,j=e.setEnglishLabelShown,d=e.pauseDurationMultiplier,h=e.setPauseDurationMultiplier,b=ce();return Object(n.jsx)(q.a,{square:!0,className:b.root,children:Object(n.jsx)(g.a,{children:Object(n.jsxs)(B.a,{className:b.box,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(n.jsxs)(B.a,{display:"flex",width:"100%",children:[Object(n.jsx)(G.a,{onClick:c,children:t?Object(n.jsx)(Y.a,{}):Object(n.jsx)($.a,{})}),Object(n.jsx)(K.a,{className:b.slider,min:0,max:i-1,value:a,onChange:s,valueLabelDisplay:"on",valueLabelFormat:function(e){return e+1}})]}),Object(n.jsxs)(_.a,{row:!0,children:[Object(n.jsx)(ee.a,{control:Object(n.jsx)(te.a,{checked:l,onChange:function(e){return j(e.target.checked)},color:"primary"}),label:"Anglicky"}),Object(n.jsx)(ee.a,{control:Object(n.jsx)(te.a,{checked:r,onChange:function(e){return o(e.target.checked)},color:"primary"}),label:"\u010cesky"}),Object(n.jsxs)(Q.a,{variant:"outlined",children:[Object(n.jsx)(U.a,{id:"pause-label",children:"Pauza"}),Object(n.jsxs)(V.a,{labelId:"pause-label",label:"Pauza",value:d,onChange:function(e){return h(e.target.value)},children:[Object(n.jsx)(X.a,{value:1,children:"1\xd7"}),Object(n.jsx)(X.a,{value:1.5,children:"1,5\xd7"}),Object(n.jsx)(X.a,{value:2,children:"2\xd7"})]})]})]})]})})})}var ae=O()((function(){return{root:{"@media (min-width:0px) and (orientation: landscape)":{minHeight:"calc(100vh - 48px)"},"@media (min-width:600px)":{minHeight:"calc(100vh - 64px)"},minHeight:"calc(100vh - 56px)"}}}));var ie=function(){var e=ae(),t=Object(l.g)().deck,c=Object(a.useState)([]),i=Object(f.a)(c,2),s=i[0],r=i[1],o=Object(a.useState)(0),j=Object(f.a)(o,2),d=j[0],h=j[1],b=Object(a.useState)(!0),u=Object(f.a)(b,2),O=u[0],x=u[1],m=Object(a.useState)(!0),p=Object(f.a)(m,2),g=p[0],v=p[1],S=Object(a.useState)(!0),k=Object(f.a)(S,2),w=k[0],y=k[1],L=Object(a.useState)(!0),N=Object(f.a)(L,2),P=N[0],z=N[1],C=Object(a.useState)(1.5),E=Object(f.a)(C,2),D=E[0],M=E[1];return Object(a.useEffect)((function(){Object(F.a)("".concat("https://lights-camera-english.com/shadowloops/decks","/").concat(t,"/").concat(t,".csv"),{download:!0,complete:function(e){r(e.data.slice(0,-1)),x(!1)}})}),[t]),Object(a.useEffect)((function(){O||d+1<s.length&&((new Image).src="".concat("https://lights-camera-english.com/shadowloops/decks","/").concat(t,"/").concat(s[d+1][3]),(new Audio).src="".concat("https://lights-camera-english.com/shadowloops/decks","/").concat(t,"/").concat(s[d+1][2]))}),[s,t,O,d]),Object(n.jsxs)(B.a,{className:e.root,display:"flex",flexDirection:"column",children:[Object(n.jsx)(B.a,{flex:"1",children:O?Object(n.jsx)(Z,{}):Object(n.jsx)(H,{slideContent:s[d],deckName:t,onSlideFinished:function(){d+1<s.length?h(d+1):v(!1)},isSlidePlaying:g,czechLabelShown:w,englishLabelShown:P,pauseDurationMultiplier:D})}),!O&&Object(n.jsx)(ne,{isPlaying:g,onResumePauseClick:function(){return v(!g)},onSlide:d,maxSlide:s.length,onSlideChange:function(e,t){return h(t)},czechLabelShown:w,setCzechLabelShown:y,englishLabelShown:P,setEnglishLabelShown:z,pauseDurationMultiplier:D,setPauseDurationMultiplier:M})]})};var se=function(){return Object(n.jsx)(o.a,{children:Object(n.jsx)(m,{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",children:Object(n.jsx)(D,{})}),Object(n.jsx)(l.b,{exact:!0,path:"/decks",children:Object(n.jsx)(l.a,{to:"/"})}),Object(n.jsx)(l.b,{exact:!0,path:"/decks/:deck",children:Object(n.jsx)(ie,{})}),Object(n.jsx)(l.b,{children:Object(n.jsx)(M,{})})]})})})};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(se,{})}),document.getElementById("root"))}},[[560,1,2]]]);
//# sourceMappingURL=main.1793c96c.chunk.js.map