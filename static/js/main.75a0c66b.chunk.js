(this.webpackJsonpshadowloop=this.webpackJsonpshadowloop||[]).push([[0],{557:function(e,t){},559:function(e,t){},586:function(e,t,c){"use strict";c.r(t);var n=c(3),a=(c(314),c(323),c(0)),r=c.n(a),i=c(23),o=c.n(i),s=c(74),j=c(27),l=c(619),d=c(620),b=c(590),u=c(618),h=c(75),O=c.n(h),x=O()((function(e){return{offset:e.mixins.toolbar}}));function m(e){var t=e.children,c=x();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(u.a,{}),Object(n.jsx)(l.a,{children:Object(n.jsx)(d.a,{children:Object(n.jsx)(s.b,{to:"/",style:{textDecoration:"none",color:"unset"},children:Object(n.jsx)(b.a,{variant:"h6",component:"h1",children:"Shadow loop"})})})}),Object(n.jsx)("div",{className:c.offset}),t]})}var f=c(36),p=c(22),g=c(90),v=c(16),S=c(628),k=c(298),y=c.n(k),w=c(299),L=c(621),P=c(622),N=c(625),C=c(624),E=c(626),D=c(623),z=Object(L.a)({root:{minWidth:275}});function M(e){var t=e.category,c=e.name,a=e.url,r=z();return Object(n.jsx)(P.a,{className:r.root,variant:"outlined",children:Object(n.jsxs)(D.a,{component:s.b,to:"decks/".concat(a),children:[Object(n.jsxs)(C.a,{children:[Object(n.jsx)(b.a,{variant:"overline",color:"textSecondary",children:t}),Object(n.jsx)(b.a,{variant:"h5",component:"h2",children:c})]}),Object(n.jsx)(N.a,{children:Object(n.jsx)(E.a,{size:"small",color:"secondary",children:"Spustit"})})]})})}var B=c(627),F=Object(L.a)({root:{minWidth:275}});function R(){var e=F();return Object(n.jsxs)(P.a,{className:e.root,variant:"outlined",children:[Object(n.jsxs)(C.a,{children:[Object(n.jsx)(B.a,{children:Object(n.jsx)(b.a,{variant:"overline",color:"textSecondary",children:"Z\xe1kladn\xed bal\xed\u010dek"})}),Object(n.jsx)(B.a,{children:Object(n.jsx)(b.a,{variant:"h5",component:"h2",children:Object(f.a)(Array(Math.floor(11*Math.random())+10)).map((function(){return"a"})).join("")})})]}),Object(n.jsx)(N.a,{children:Object(n.jsx)(B.a,{children:Object(n.jsx)(E.a,{size:"small",color:"secondary",children:"Spustit od za\u010d\xe1tku"})})})]})}var T=O()((function(e){return{deckPadding:{paddingTop:e.spacing(2)},deckListPadding:{paddingBottom:e.spacing(2)}}}));var I=function(){var e=T(),t=Object(a.useState)({}),c=Object(v.a)(t,2),r=c[0],i=c[1],o=Object(w.useLocalStorage)("hiddenDecks",{}),s=Object(v.a)(o,2),l=s[0],d=s[1],b=Object(j.g)();Object(a.useEffect)((function(){var e=y.a.parse(b.search,{ignoreQueryPrefix:!0}).newDeck;if(e){var t=e.split("_");if(3===t.length){var c={},n=Object(v.a)(t,3);c.category=n[0],c.name=n[1],c.password=n[2];var a=t.slice(0,2).join("_");d(Object(g.a)(Object(g.a)({},l),{},Object(p.a)({},a,c)))}}}),[l,b,d]),Object(a.useEffect)((function(){i((function(e){return Object(g.a)(Object(g.a)({},e),l)}))}),[l]);var u=Object(a.useState)(!0),h=Object(v.a)(u,2),O=h[0],x=h[1];return Object(a.useEffect)((function(){fetch("".concat("decks","/decks.txt")).then((function(e){return e.text()})).then((function(e){var t=e.split("\n").slice(0,-1).map((function(e){var t={},c=e.split("_"),n=Object(v.a)(c,2);return t.category=n[0],t.name=n[1],[e,t]}));i((function(e){return Object(g.a)(Object(g.a)({},e),Object.fromEntries(t))})),x(!1)}),(function(e){console.log(e)}))}),[]),Object(n.jsx)(S.a,{className:e.deckListPadding,children:O?Object(n.jsx)(n.Fragment,{children:Object(f.a)(Array(4).keys()).map((function(t){return Object(n.jsx)("div",{className:e.deckPadding,children:Object(n.jsx)(R,{})},t)}))}):Object.entries(r).sort().map((function(t){var c=Object(v.a)(t,2),a=c[0],r=c[1],i=r.category,o=r.name;return Object(n.jsx)("div",{className:e.deckPadding,children:Object(n.jsx)(M,{category:i,name:o,url:a})},a)}))})};var A=function(){return Object(n.jsx)(n.Fragment,{children:"Error 404 :("})},W=c(300),H=c(638),_=c(302),J=c.n(_),U=c(629),q=c(630),Q=Object(L.a)((function(e){return{root:{padding:e.spacing(2)},card:{width:"fit-content"},media:{maxWidth:"100%"},loopButton:{float:"right",paddingBottom:e.spacing(2)}}}));function Z(e){var t=e.slideContent,c=e.deckUrl,r=e.onSlideFinished,i=e.isSlidePlaying,o=e.czechLabelShown,s=e.englishLabelShown,j=e.pauseDurationMultiplier,l=Q(),d=Object(a.useRef)(2),u=Object(v.a)(t,4),h=u[0],O=u[1],x=u[2],m=u[3],f=Object(a.useState)(0),p=Object(v.a)(f,2),g=p[0],S=p[1],k=Object(a.useRef)(g),y=Object(a.useState)(!1),w=Object(v.a)(y,2),L=w[0],N=w[1],E=Object(a.useState)(!0),D=Object(v.a)(E,2),z=D[0],M=D[1],B=Object(a.useState)(!1),F=Object(v.a)(B,2),R=F[0],T=F[1],I=Object(a.useRef)(0);return Object(a.useEffect)((function(){S(0),k.current=0,T(!1),clearTimeout(I.current)}),[t]),Object(a.useEffect)((function(){M(i&&!R)}),[i,R]),Object(a.useEffect)((function(){i&&k.current>2&&!L&&r()}),[i,L,r,g]),Object(n.jsx)(H.a,{display:"flex",className:l.root,children:Object(n.jsx)(H.a,{m:"auto",children:Object(n.jsxs)(P.a,{className:l.card,children:[Object(n.jsx)("img",{className:l.media,src:"".concat("decks","/").concat(c,"/").concat(m),alt:h}),Object(n.jsxs)(C.a,{children:[Object(n.jsx)("div",{className:l.loopButton,children:Object(n.jsx)(U.a,{value:"repeat",selected:L,onChange:function(){return N(!L)},children:Object(n.jsx)(q.a,{})})}),(s||o)&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h2",children:s?h:O}),s&&o&&Object(n.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:O})]})]}),Object(n.jsx)(J.a,{url:"".concat("decks","/").concat(c,"/").concat(x),playing:z,width:0,height:0,onEnded:function(){T(!0),I.current=setTimeout((function(){k.current+=1,S(k.current),T(!1)}),1e3*d.current*j)},onDuration:function(e){d.current=e}})]})})})}var G=Object(L.a)((function(e){return{root:{padding:e.spacing(2)},media:{maxWidth:"100%"}}}));function K(){var e=G();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(H.a,{display:"flex",children:Object(n.jsx)(H.a,{m:"auto",children:Object(n.jsxs)(P.a,{children:[Object(n.jsx)(B.a,{variant:"rect",children:Object(n.jsx)("div",{style:{paddingTop:"57%",width:"400px"}})}),Object(n.jsxs)(C.a,{children:[Object(n.jsx)(B.a,{children:Object(n.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Lorem ipsum dolor sit amet"})}),Object(n.jsx)(B.a,{children:Object(n.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:"Lorem ipsum dolor"})})]})]})})})})}var V=c(304),X=c(631),Y=c(639),$=c(636),ee=c(641),te=c(637),ce=c(642),ne=c(632),ae=c(633),re=c(634),ie=c(635),oe=c(640),se=O()((function(e){return{root:{margin:0,padding:e.spacing(2)},box:{paddingTop:"20px"},slider:{marginLeft:"15px",marginRight:"15px",marginTop:"10px"}}}));function je(e){var t=e.isPlaying,c=e.onResumePauseClick,a=e.onSlide,r=e.maxSlide,i=e.onSlideChange,o=e.czechLabelShown,s=e.setCzechLabelShown,j=e.englishLabelShown,l=e.setEnglishLabelShown,d=e.pauseDurationMultiplier,b=e.setPauseDurationMultiplier,u=se();return Object(n.jsx)(V.a,{square:!0,className:u.root,children:Object(n.jsx)(S.a,{children:Object(n.jsxs)(H.a,{className:u.box,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(n.jsxs)(H.a,{display:"flex",width:"100%",children:[Object(n.jsx)(X.a,{onClick:c,children:t?Object(n.jsx)(ne.a,{}):Object(n.jsx)(ae.a,{})}),Object(n.jsx)(Y.a,{className:u.slider,min:0,max:r-1,value:a,onChange:i,valueLabelDisplay:"on",valueLabelFormat:function(e){return e+1}})]}),Object(n.jsxs)(re.a,{row:!0,children:[Object(n.jsx)(ie.a,{control:Object(n.jsx)(oe.a,{checked:j,onChange:function(e){return l(e.target.checked)},color:"primary"}),label:"Anglicky"}),Object(n.jsx)(ie.a,{control:Object(n.jsx)(oe.a,{checked:o,onChange:function(e){return s(e.target.checked)},color:"primary"}),label:"\u010cesky"}),Object(n.jsxs)($.a,{variant:"outlined",children:[Object(n.jsx)(ee.a,{id:"pause-label",children:"Pauza"}),Object(n.jsxs)(te.a,{labelId:"pause-label",label:"Pauza",value:d,onChange:function(e){return b(e.target.value)},children:[Object(n.jsx)(ce.a,{value:1,children:"1\xd7"}),Object(n.jsx)(ce.a,{value:1.5,children:"1,5\xd7"}),Object(n.jsx)(ce.a,{value:2,children:"2\xd7"})]})]})]})]})})})}var le=O()((function(){return{root:{"@media (min-width:0px) and (orientation: landscape)":{minHeight:"calc(100vh - 48px)"},"@media (min-width:600px)":{minHeight:"calc(100vh - 64px)"},minHeight:"calc(100vh - 56px)"}}}));var de=function(){var e=le(),t=Object(j.h)().deck,c=Object(a.useState)([]),r=Object(v.a)(c,2),i=r[0],o=r[1],s=Object(a.useState)(0),l=Object(v.a)(s,2),d=l[0],b=l[1],u=Object(a.useState)(!0),h=Object(v.a)(u,2),O=h[0],x=h[1],m=Object(a.useState)(!0),f=Object(v.a)(m,2),p=f[0],g=f[1],S=Object(a.useState)(!0),k=Object(v.a)(S,2),y=k[0],w=k[1],L=Object(a.useState)(!0),P=Object(v.a)(L,2),N=P[0],C=P[1],E=Object(a.useState)(1.5),D=Object(v.a)(E,2),z=D[0],M=D[1];return Object(a.useEffect)((function(){Object(W.a)("".concat("decks","/").concat(t,"/").concat(t,".csv"),{download:!0,complete:function(e){var c=e.data.slice(0,-1);o(c);var n=new Image;n.src="".concat("decks","/").concat(t,"/").concat(c[1][3]),n.onload=function(){return x(!1)}}})}),[t]),Object(a.useEffect)((function(){O||d+1<i.length&&((new Image).src="".concat("decks","/").concat(t,"/").concat(i[d+1][3]),(new Audio).src="".concat("decks","/").concat(t,"/").concat(i[d+1][2]))}),[i,t,O,d]),Object(n.jsxs)(H.a,{className:e.root,display:"flex",flexDirection:"column",children:[Object(n.jsx)(H.a,{flex:"1",children:O?Object(n.jsx)(K,{}):Object(n.jsx)(Z,{slideContent:i[d],deckUrl:t,onSlideFinished:function(){d+1<i.length?b(d+1):g(!1)},isSlidePlaying:p,czechLabelShown:y,englishLabelShown:N,pauseDurationMultiplier:z})}),!O&&Object(n.jsx)(je,{isPlaying:p,onResumePauseClick:function(){return g(!p)},onSlide:d,maxSlide:i.length,onSlideChange:function(e,t){return b(t)},czechLabelShown:y,setCzechLabelShown:w,englishLabelShown:N,setEnglishLabelShown:C,pauseDurationMultiplier:z,setPauseDurationMultiplier:M})]})};var be=function(){return Object(n.jsx)(s.a,{children:Object(n.jsx)(m,{children:Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{exact:!0,path:"/",children:Object(n.jsx)(I,{})}),Object(n.jsx)(j.b,{exact:!0,path:"/decks",children:Object(n.jsx)(j.a,{to:"/"})}),Object(n.jsx)(j.b,{exact:!0,path:"/decks/:deck",children:Object(n.jsx)(de,{})}),Object(n.jsx)(j.b,{children:Object(n.jsx)(A,{})})]})})})};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(be,{})}),document.getElementById("root"))}},[[586,1,2]]]);
//# sourceMappingURL=main.75a0c66b.chunk.js.map